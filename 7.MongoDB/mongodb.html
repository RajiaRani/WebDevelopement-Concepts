<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB</title>
</head>
<body>
    <h2 style="color: blue;">The Shell</h2>
    <ul>
        <li>command to start - sudo brew services start mongodb-community@7.0</li>
        <li>mongosh - to start </li>
        <li>use college - to create & use a new database called "college".</li>
    </ul>
    <h2 style="color: blue;">Basic Command</h2>
    <ul>
        <li>show dbs</li>
        <li>Test - is a temparary database.</li>
    </ul>
    <hr>
    <h2 style="color: blue;">How to store data ?(BSON)</h2>
    <h4 style="color: blue;">JSON</h4>
     <p>Because JSON format have some issuses . that issuses BSON solve karta hai. </p>
     <ul>
        <li>JSON is a text based format. So its parsing is very difficult.</li>
        <li>JSON is space inefficient .</li>
        <li>Less Data types. Example - String, Boolean , Number, Array, Object, Null.</li>
        <li>Read by Human and Machine both.</li>
        
     </ul>
    <h4 style="color: blue;">BSON</h4>
    <li>Mongodb mein data BSON(Binary JSON)format mein save hota hai.</li>
    <li>Mongodb ko hum data JSON format mein  hi dege but mongodb usko BSON format mein convert karte hi save kargega.</li>
    <li>More data types.Example - String, Boolean , Number(Integer, Float, Long,Decimal128...), Array, Object, Null, Date,BinData.</li>
    <li>Read by MAchine only.</li>
  <br>
  <hr>
 <h2 style="color: blue;">Documents : </h2>
 <p>Mongo stores data in form of documents(BSON docs).</p>
 <h2 style="color: blue;">Collections : </h2>
 <p>MongoDB stores documents in collections.</p>
 <hr>


 <h2 style="color: blue;"><a href="https://www.mongodb.com/docs/manual/tutorial/insert-documents/">Insert in DB </a></h2>

 <ol>
    <li>db.collection_name.insertOne({}) -- 	
        Inserts a single document into a
        collection.</li>
    <li>db.collection_name.insertMany({}) -- 	
        Inserts multiple documents into a collection.
        insertMany(array of documents).</li>
 </ol>
 <h2 style="color: blue;">Additional Methods for Inserts : </h2>
 <ul>
    <li>db.collection.updateOne() when used with the upsert: true option.</li>
    <li>db.collection.updateMany() when used with the upsert: true option.</li>
    <li>db.collection.findAndModify() when used with the upsert: true option.</li>
    <li>db.collection.findOneAndUpdate() when used with the upsert: true option.</li>
    <li>db.collection.findOneAndReplace() when used with the upsert: true option.

    </li>
 </ul>
 <hr>
 <h2 style="color: blue;">Find in DB</h2>
 <ul>
    <li>db.collection.find() -- use for returns everything.</li>
    <h3 style="color: blue;">For specific queries :</h3>
    <li>db.collection.find({key : value})   -- this returns the cursor(reference to original).</li>
    <li>db.collection.findOne({key : value})  -- To find the Single value and actual document.</li>
 </ul>
 <hr>
 <h2 style="color: blue;"><a href="https://www.mongodb.com/docs/manual/reference/operator/query/">Query Operators</a></h2>
 <ul>
    <li>$eq - Matches values that are <b style="color: tomato;">equal</b> to a specified value.</li>
    <li>$gt -- Matches values that are <b  style="color: tomato;">greater </b> than a specified value.</li>
    <li>$gte -- Matches values that are <b style="color: tomato;">greater than or equal</b> to a specified value.</li>
    <li>$in -- Matches any of the values <b style="color: tomato;"> specified in an array</b>.</li>
    <li>$lt -- Matches values that are <b style="color: tomato;">less than</b> a specified value.</li>
    <li>$lte -- Matches values that are <b style="color: tomato;">less than or equal </b>to a specified value.</li>
    <li>$ne -- Matches all values that are <b style="color: tomato;"> not equal</b> to a specified value.</li>
     <li>$nin -- Matches <b style="color: tomato;">none of the values specified in an array</b>.</li>
 </ul>
 <br>
 <h2 style="color: blue">LOGICAL OPERATOR </h2>
 <ol>
    <li> $and -- Joins query clauses with a logical <b style="color: tomato;">AND</b> returns all documents that match the conditions of both clauses.</li>
    <li> $not -- Inverts the effect of a query expression and returns documents that <b style="color: tomato;">do not</b> match the query expression.</li>
    <li> $nor -- Joins query clauses with a logical <b style="color: tomato;">NOR </b>returns all documents that fail to match both clauses.</li>
    <li> $or -- Joins query clauses with a logical <b style="color: tomato;">OR</b> returns all documents that match the conditions of either clause.</li>
 </ol>
 <br> 

 <h2 style="color: blue;">ELEMENT OPERATOR</h2>
 <ol>
    <li>$exists -- Matches documents that have the specified field.</li>
    <li>$type -- Selects documents if a field is of the specified type.</li>
 </ol>

 <br>
 <h3 style="color: deepskyblue;"> Q1. Find students where marks > 75 ?</h3>
  <p>Ans - db.student.find( {marks : {$gt: 75} })</p>

 <h3 style="color: deepskyblue;"> Q1. Find students who live in Delhi or Mumbai ?</h3>
  <p>Ans - db.student.find( { city : {$in: ["Delhi", "Mumbai"]}})</p>

 <h3 style="color: deepskyblue;"> Q1. Find students who scored > 75 or live in Delhi ?</h3>
 <p>Ans - db.student.find( { $or: [ {marks: {gt:75}}, {city: "Delhi"} ]})</p>
 <br>
 <hr>
 <h2><a href="https://www.mongodb.com/docs/manual/reference/update-methods/">Update Methods</a></h2>
 <p>MongoDB provides the following methods for updating documents in a collection:</p>
 <p>db.collection.updateOne(<filter>, <update>, <options>)</p>
 <p>example -- db.student.updateOne( {name : "adam"}, { $set:{marks:99}})</p>
 <ol>
    <li>db.collection.updateOne() -- Updates at most a <b  style="color: tomato;">single document</b> that match a specified filter even though multiple documents may match the specified filter.</li>
    <li>db.collection.updateMany() -- Update <b style="color: tomato;">all documents </b>that match a specified filter.</li>
    <li>db.collection.replaceOne() -- Replaces at most a <b  style="color: tomato;">single document</b> that match a specified filter even though multiple documents may match the specified filter.</li>
 </ol>

</html>